.\"Modified from man(1) of FreeBSD, the NetBSD mdoc.template, and mdoc.samples.
.\"See Also:
.\"man mdoc.samples for a complete listing of options
.\"man mdoc for the short list of editing options
.\"/usr/share/misc/mdoc.template
.Dd January 0, 2013               \" DATE 
.Dt OPENSTDIN 1      \" Program name and manual section number 
.\" .An Yves Arrouye
.\" Copyright (C) 2013, Yves Arrouye. All rights reserved.
.Os Darwin
.Sh NAME                 \" Section Header - required - don't modify 
.Nm openstdin
.\" The following lines are read in generating the apropos(man -k) database. Use only key
.\" words here as the database is built based on the words here and in the .ND line. 
.Nd open standard input according to its type
.Sh SYNOPSIS             \" Section Header - required - don't modify
.Nm
.Op Fl h                        \" [-h]
.Op Fl Fl mime-types Ar file    \" [--mime-types file]
.Op Fl k Ar [ seconds ]         \" [-k [seconds]]
.Op Ar mime-type | Ar ext       \" [mime-type | ext]
.Op Fl Fl Ar arg ...            \" [-n]
.Sh DESCRIPTION          \" Section Header - required - don't modify
.Nm
opens standard input through the
.Xr open 1
command.
The standard input is copied into a temporary file which is then renamed
with an appropriate file extension to be opened in the appropriate application
by the
.Xr open 1
command.
.Pp
File extensions are chosen by picking the first listed extension for the
appropriate MIME type in a MIME type to file extensions mapping file.
If no such file is
available,
.Nm
maps
.Cm text/html
to
.Cm html
and
.Cm text/plain
to
.Cm txt .
.Pp
If no
.Ar mime-type
is given,
.Nm
determines the standard input contents' MIME type using
.Xr file 1 .
.Pp
The following options are available (options cannot be combined in a single argument):
.Bl -tag -width -indent  \" Differs from above in tag removed 
.It Fl h               \"-a flag as a list item
Prints a help usage message documenting each option.
.It Fl Fl mime-types Ar file               \"-a flag as a list item
Use
.Ar file
to determine which file extension to use for a given MIME type.
.Ar file
must be in the format of Apache or CUPS
.Cm mime.types
files.
.It Fl k Ar [ seconds ]
Keep the temporary file for the given number of
.Ar seconds .
If
.Ar seconds
is not given, the temporary file is not deleted.
.It Fl Ar mime-type | Ar ext
Force either the MIME type to be
.Ar mime-type
or the file extension to be
.Ar ext ,
bypassing any automatic detection of either.
.It Fl Fl Ar arg ...
Passes
.Ar arg
and any subsequent argument to the command used to open the file.
.El
.Sh ENVIRONMENT
.Bl -tag -width "MIMETYPES" -indent
.It Ev TMPDIR
Directory into which to write temporary files. Defaults to
.Cm /tmp .
.It Ev MIMETYPES
Path to the file containing MIME types to file extension mappings. Defaults
to
.Cm /etc/apache2/mime.types
if it exists, or to
.Cm /usr/share/cups/mime/mime.types
if it exists.
.It Ev OPENCMD
Command to use for opening files. Defaults to
.Cm open .
.\" .It Ev ENV_VAR_1
.\" Description of ENV_VAR_1
.\" .It Ev ENV_VAR_2
.\" Description of ENV_VAR_2
.\" .El                      
.\" .Sh DIAGNOSTICS       \" May not be needed
.\" .Bl -diag
.\" .It Diagnostic Tag
.\" Diagnostic informtion here.
.\" .It Diagnostic Tag
.\" Diagnostic informtion here.
.\" .El
.Sh SEE ALSO 
.\" List links in ascending order by section, alphabetically within a section.
.\" Please do not reference files that do not exist without filing a bug report
.Xr file 1 ,
.Xr open 1
.\" .Sh BUGS              \" Document known, unremedied bugs 
.\" .Sh HISTORY           \" Document history if command behaves in a unique manner
